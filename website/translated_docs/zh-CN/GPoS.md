---
id: GPoS
title: GPoS
sidebar_label: GPoS
---

## GPoS是什么
在整个Crust系统里有多个参与方，它们各自有不同的需求，按照每个角色参与的方式，它们分别为：验证人、担保人、存储用户。

Crust网络使用的是GPoS（Guaranteed Proof of Stake）共识机制，是一个以存储资源做担保额度的PoS共识。和现有的PoS项目类似，节点需要将CRU通证质押来竞争成为验证人，不一样的是节点还需要提供存储资源以获取相应的担保额度，有了担保额度才能Stake相应数量的CRU。通过MPoW机制，节点的存储量的节点存储量监测机制，节点贡献的存储资源越多，能获得的抵押额便越高。

![](https://crust-data.oss-cn-shanghai.aliyuncs.com/wiki/general/gpos.png)

GPoS基于Substrate框架的[BABE/GRANDPA](https://wiki.polkadot.network/docs/en/learn-consensus#what-is-grandpababe)算法进行最终出块。如果想从共识上攻击Crust网络，除了需要拥有大比例的CRU通证，还需要控制足够多的存储资源，这样的设计会让攻击难度变得相对更高。

### 部分名词详细解释
1.  质押上限: 它决定了在验证人选举以及质押奖励计算时可以被计算的质押数额上限。超过此上限的质押数额，在计算过程中将不会被算入。它的更新频率为一个工作量上报周期，主网上的更新频率为1小时。
2.  总质押数额: 自身绑定数额以及担保人担保的数额总量之和。它的更新频率是实时显示的，当自身增减绑定金额或者担保人增减担保数额，它均会在刷新页面后及时更新。
3.  有效质押: 质押上限以及总质押数额的较小值。它的更新频率为一个era，主网上的更新频率为6小时。

### 质押上限计算
**1TB的SRD([在术语表中查看SRD的释意](glossary.md))文件对应上限值为1CRU，而有意义文件是SRD上限值的1-10倍**，详细机制请参考[经济白皮书](https://ipfs-hk.decoo.io/ipfs/Qmdy2Hqdxoq2PuAkvoDZ5SqYjAKym58Gh39Lm5gPChyHwL)，这里仅针对有意义文件的质押上限计算机制进行阐释，一切以经济白皮书内容为最终准则。
1.  算力延期: 文件对应的质押上限计算具有延期效应，主网启动阶段设置为3个月。在算力延期阶段，有意义文件质押上限等于SRD文件带来的质押上限。
2.  文件副本算力倍数: 同一文件会被Crust网络中的不同节点进行存储，当存储的节点数目越多，该文件所产生的质押上限越大，最多可带来文件大小的十倍质押上限。
3.  文件副本算力去重: 在同一个存储节点组中，只有一个成员可以接取该文件并获得该文件算力，后续成员接取该文件会被视为无效并损失原有SRD文件带来的算力质押上限。

## 如何参与GPoS
用户可以作为验证人参与，或者作为担保人参与。

### 作为验证人参与GPoS
作为验证人参与网络请参考[验证人指南](validatorGuidance.md)

### 作为担保人参与GPoS
<!--
持币用户可以通过[担保](guarantor-guidance.md)节点来分享Crust网络的质押收益。用户可以浏览网络中的验证人并进行担保，从而增加该验证人的有效质押（最终验证人的总有效质押量不会超过其质押额度）
-->
即将发布。
